## Postman collection and AWS

Postman - файл Nest.postman_collection.json в корні проекту
#aws
AWS_S3_ACCESS_KEY=AKIAZFAHTMMP27ZPAM7F
AWS_S3_SECRET_KEY=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

### Оновлення проекту - Версія 2.0

1. **Уникнення циркулярних залежностей**
   - Видалено використання `forwardRef` для уникнення циркулярних залежностей, розділивши спільний функціонал в окремий модуль.  

2.  **Винесення трансформера**
   - Трансформер `string-transformer.ts` було винесено в окремий файл для полегшення його перевикористання у різних модулях.

3.  **Використання конкретних типів**
   - Виправивлено використання типу `any`, замінивши його конкретними типами даних.

4.  **Використання Guard для перевірки токену**
   - Це не перевірка токену, а отримання данних з токену, тому  `this.extractTokenFromHeader(refreshToken)` винесено в окремий файл, для подальшого використання.

5.  **Винесення Redis**
   - У файлі `app.module.ts` було додано RedisModule до списку імпортів:

```typescript
@Module({
  imports: [
    RedisModule.forRoot({
      url: 'redis://localhost:6379',
    }),
    // інші імпорти...
  ],
  // ...
})
export class AppModule {} 
```

6.  **Прибирання невикористаного коду**
  - Видалено невикористаний код, що полегшило зрозуміння кодової бази та покращило її обслуговування.

7.  **Завантаження зображень в Amazon S3**
Оновлено код для завантаження та отримання зображень з Amazon S3.


## Огляд

Проект реалізує систему для автосалонів, користувачів та публікацій автомобілів. Нижче наведено загальний огляд функціональності та особливостей проекту.

### Таблиці та Ролі

1. **Користувачі (users):**

   - Кожен користувач має призначену роль (`Role`), яка може бути "звичайним" чи "автосалоном".
   - Автосалон може створювати нових користувачів і надавати їм доступ до функціоналу.

2. **Автосалони (autosalons):**

   - Кожен користувач автосалону має поле `autosalonId`, яке вказує на автосалон, якому він належить.

3. **Публікації (publications):**
   - Кожен користувач може створити публікацію.
   - Авторизовані користувачі можуть додавати зображення до публікацій.
   - Загальний перегляд публікацій доступний для всіх користувачів.

### Авторизація та Рівні Доступу

1. **Рівні доступу:**

   - Автосалони можуть створювати нових користувачів та надавати їм ролі.
   - Базовий обліковий запис отримує кожен новий користувач за замовчуванням.

2. **Адміністраторські права:**
   - Тільки користувачі з роллю "Адміністратор" можуть змінювати базові облікові записи.

### Перевірка на Ненормативну Лексику

1. **Нормативна лексика:**
   - Користувачі при створенні повідомлень перевіряються на наявність ненормативної лексики.
   - Якщо слово виявлено, статус повідомлення переходить в "InActive".
   - Користувачам надається три можливості поновлення повідомлення, після чого вони залишаються неактивними.

### AWS для Завантаження Зображень

1. **Хмарне Збереження (AWS):**
   - Для завантаження та збереження зображень використовується Amazon Web Services (AWS).
   - Це забезпечує ефективне та надійне управління зображеннями у системі.

### Основні Функції Premium Користувачів

1. **Додаткова Інформація для Premium Користувачів:**
   - Користувачі з Premium-статусом отримують доступ до додаткової інформації, такої як кількість переглядів публікацій, статистика переглядів за певні дні, а також можливість пошуку публікацій за ключовими словами.

### Інші Особливості

1. **Токени та Авторизація:**
   - Для створення користувачів автосалонами використовується система токенів для авторизації.
   - Зміни в облікових записах доступні тільки для адміністраторів.

### Запуск Проекту

1. **Клонування Репозиторію:**

   - Клонуйте репозиторій на свій комп'ютер.

2. **Установка Залежностей:**

   - Запустіть команду `npm install` для встановлення необхідних пакетів.

3. **Запуск Проекту:**

   - Запустіть команду `npm start` для запуску проекту.

4. **Підключення до AWS:**
   - Додайте конфігураційні дані для підключення до Amazon S3 для роботи із зображеннями.


### Додаткові Покращення (Майбутні Плани)

1. **Пошук Користувачів за Автосалоном:**

   - Реалізація пошуку користувачів конкретного автосалону.

2. **Розширені Функції Пошуку для Premium Користувачів:**
   - Реалізація розширених функцій пошуку для користувачів з Premium-статусом.

### Версії та Оновлення

1. \*\*Версія 2.0
